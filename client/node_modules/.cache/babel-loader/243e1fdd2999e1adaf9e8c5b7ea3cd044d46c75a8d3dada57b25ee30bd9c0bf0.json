{"ast":null,"code":"import _regeneratorRuntime from\"/Users/atharvpatil/Developer/Projects/Personal Projects/expense-tracker-react/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/atharvpatil/Developer/Projects/Personal Projects/expense-tracker-react/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/atharvpatil/Developer/Projects/Personal Projects/expense-tracker-react/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useReducer}from'react';import AppReducer from'./AppReducer';import axios from'axios';// Initial State\nimport{jsx as _jsx}from\"react/jsx-runtime\";var initialState={transactions:[],error:null,loading:true};// Create context\nexport var GlobalContext=/*#__PURE__*/createContext(initialState);// Provider Component\nexport var GlobalProvider=function GlobalProvider(_ref){var children=_ref.children;var _useReducer=useReducer(AppReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];//Actions\nfunction getTransactions(){return _getTransactions.apply(this,arguments);}function _getTransactions(){_getTransactions=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/v1/transactions');case 3:res=_context.sent;dispatch({type:'GET_TRANSACTIONS',payload:res.data.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:'TRANSACTION_ERROR',payload:_context.t0.response.data.error});case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _getTransactions.apply(this,arguments);}function deleteTransaction(_x){return _deleteTransaction.apply(this,arguments);}function _deleteTransaction(){_deleteTransaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.delete(\"/api/v1/transactions/\".concat(id));case 3:dispatch({type:\"DELETE_TRANSACTION\",payload:id});_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);dispatch({type:'TRANSACTION_ERROR',payload:_context2.t0.response.data.error});case 9:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return _deleteTransaction.apply(this,arguments);}function addTransaction(_x2){return _addTransaction.apply(this,arguments);}function _addTransaction(){_addTransaction=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(transaction){var config,res;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:config={headers:{'Content-Type':'application/json'}};_context3.prev=1;_context3.next=4;return axios.post('/api/v1/transactions',transaction,config);case 4:res=_context3.sent;dispatch({type:\"ADD_TRANSACTION\",payload:res.data.data});_context3.next=11;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](1);dispatch({type:'TRANSACTION_ERROR',payload:_context3.t0.response.data.error});case 11:case\"end\":return _context3.stop();}},_callee3,null,[[1,8]]);}));return _addTransaction.apply(this,arguments);}return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:{transactions:state.transactions,error:state.error,laoding:state.loading,getTransactions:getTransactions,deleteTransaction:deleteTransaction,addTransaction:addTransaction},children:children});};","map":{"version":3,"names":["React","createContext","useReducer","AppReducer","axios","jsx","_jsx","initialState","transactions","error","loading","GlobalContext","GlobalProvider","_ref","children","_useReducer","_useReducer2","_slicedToArray","state","dispatch","getTransactions","_getTransactions","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","sent","type","payload","data","t0","response","stop","deleteTransaction","_x","_deleteTransaction","_callee2","id","_callee2$","_context2","delete","concat","addTransaction","_x2","_addTransaction","_callee3","transaction","config","_callee3$","_context3","headers","post","Provider","value","laoding"],"sources":["/Users/atharvpatil/Developer/Projects/Personal Projects/expense-tracker-react/client/src/context/GlobalState.js"],"sourcesContent":["import React, {createContext, useReducer} from 'react';\nimport AppReducer from './AppReducer'\nimport axios from 'axios'\n\n// Initial State\nconst initialState = {\n    transactions: [],\n    error: null, \n    loading: true\n}\n\n// Create context\nexport const GlobalContext = createContext(initialState);\n\n// Provider Component\nexport const GlobalProvider = ({children}) => {\n    const [state, dispatch] = useReducer(AppReducer, initialState);\n\n    //Actions\n    async function getTransactions() {\n        try {\n            const res = await axios.get('/api/v1/transactions')\n\n            dispatch({\n                type: 'GET_TRANSACTIONS',\n                payload: res.data.data\n            })\n        } catch (err) {\n            dispatch({\n                type: 'TRANSACTION_ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function deleteTransaction(id) {\n        try {\n            await axios.delete(`/api/v1/transactions/${id}`)\n\n            dispatch({\n                type: \"DELETE_TRANSACTION\",\n                payload: id\n            })\n        } catch (err) {\n            dispatch({\n                type: 'TRANSACTION_ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    async function addTransaction(transaction) {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        }\n\n        try {\n            const res = await axios.post('/api/v1/transactions', transaction, config)\n\n            dispatch({\n                type: \"ADD_TRANSACTION\",\n                payload: res.data.data\n            })\n        } catch (err) {\n            dispatch({\n                type: 'TRANSACTION_ERROR',\n                payload: err.response.data.error\n            })\n        }\n    }\n\n    return (<GlobalContext.Provider value = {{\n        transactions: state.transactions,\n        error: state.error,\n        laoding: state.loading,\n        getTransactions,\n        deleteTransaction,\n        addTransaction\n    }}>\n        {children}\n    </GlobalContext.Provider>);\n}"],"mappings":"8gBAAA,MAAO,CAAAA,KAAK,EAAGC,aAAa,CAAEC,UAAU,KAAO,OAAO,CACtD,MAAO,CAAAC,UAAU,KAAM,cAAc,CACrC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AAAA,OAAAC,GAAA,IAAAC,IAAA,yBACA,GAAM,CAAAC,YAAY,CAAG,CACjBC,YAAY,CAAE,EAAE,CAChBC,KAAK,CAAE,IAAI,CACXC,OAAO,CAAE,IACb,CAAC,CAED;AACA,MAAO,IAAM,CAAAC,aAAa,cAAGV,aAAa,CAACM,YAAY,CAAC,CAExD;AACA,MAAO,IAAM,CAAAK,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAAC,IAAA,CAAmB,IAAd,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACpC,IAAAC,WAAA,CAA0Bb,UAAU,CAACC,UAAU,CAAEI,YAAY,CAAC,CAAAS,YAAA,CAAAC,cAAA,CAAAF,WAAA,IAAvDG,KAAK,CAAAF,YAAA,IAAEG,QAAQ,CAAAH,YAAA,IAEtB;AAAA,QACe,CAAAI,eAAeA,CAAA,SAAAC,gBAAA,CAAAC,KAAA,MAAAC,SAAA,YAAAF,iBAAA,EAAAA,gBAAA,CAAAG,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA9B,SAAAC,QAAA,MAAAC,GAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE0B,CAAA7B,KAAK,CAAC8B,GAAG,CAAC,sBAAsB,CAAC,QAA7CN,GAAG,CAAAG,QAAA,CAAAI,IAAA,CAEThB,QAAQ,CAAC,CACLiB,IAAI,CAAE,kBAAkB,CACxBC,OAAO,CAAET,GAAG,CAACU,IAAI,CAACA,IACtB,CAAC,CAAC,CAAAP,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAQ,EAAA,CAAAR,QAAA,aAEFZ,QAAQ,CAAC,CACLiB,IAAI,CAAE,mBAAmB,CACzBC,OAAO,CAAEN,QAAA,CAAAQ,EAAA,CAAIC,QAAQ,CAACF,IAAI,CAAC7B,KAC/B,CAAC,CAAC,0BAAAsB,QAAA,CAAAU,IAAA,MAAAd,OAAA,gBAET,UAAAN,gBAAA,CAAAC,KAAA,MAAAC,SAAA,WAEc,CAAAmB,iBAAiBA,CAAAC,EAAA,SAAAC,kBAAA,CAAAtB,KAAA,MAAAC,SAAA,YAAAqB,mBAAA,EAAAA,kBAAA,CAAApB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAhC,SAAAmB,SAAiCC,EAAE,SAAArB,mBAAA,GAAAI,IAAA,UAAAkB,UAAAC,SAAA,iBAAAA,SAAA,CAAAhB,IAAA,CAAAgB,SAAA,CAAAf,IAAA,SAAAe,SAAA,CAAAhB,IAAA,GAAAgB,SAAA,CAAAf,IAAA,SAErB,CAAA7B,KAAK,CAAC6C,MAAM,yBAAAC,MAAA,CAAyBJ,EAAE,CAAE,CAAC,QAEhD3B,QAAQ,CAAC,CACLiB,IAAI,CAAE,oBAAoB,CAC1BC,OAAO,CAAES,EACb,CAAC,CAAC,CAAAE,SAAA,CAAAf,IAAA,gBAAAe,SAAA,CAAAhB,IAAA,GAAAgB,SAAA,CAAAT,EAAA,CAAAS,SAAA,aAEF7B,QAAQ,CAAC,CACLiB,IAAI,CAAE,mBAAmB,CACzBC,OAAO,CAAEW,SAAA,CAAAT,EAAA,CAAIC,QAAQ,CAACF,IAAI,CAAC7B,KAC/B,CAAC,CAAC,yBAAAuC,SAAA,CAAAP,IAAA,MAAAI,QAAA,gBAET,UAAAD,kBAAA,CAAAtB,KAAA,MAAAC,SAAA,WAEc,CAAA4B,cAAcA,CAAAC,GAAA,SAAAC,eAAA,CAAA/B,KAAA,MAAAC,SAAA,YAAA8B,gBAAA,EAAAA,eAAA,CAAA7B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAA7B,SAAA4B,SAA8BC,WAAW,MAAAC,MAAA,CAAA5B,GAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAA4B,UAAAC,SAAA,iBAAAA,SAAA,CAAA1B,IAAA,CAAA0B,SAAA,CAAAzB,IAAA,SAC/BuB,MAAM,CAAG,CACXG,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CACJ,CAAC,CAAAD,SAAA,CAAA1B,IAAA,GAAA0B,SAAA,CAAAzB,IAAA,SAGqB,CAAA7B,KAAK,CAACwD,IAAI,CAAC,sBAAsB,CAAEL,WAAW,CAAEC,MAAM,CAAC,QAAnE5B,GAAG,CAAA8B,SAAA,CAAAvB,IAAA,CAEThB,QAAQ,CAAC,CACLiB,IAAI,CAAE,iBAAiB,CACvBC,OAAO,CAAET,GAAG,CAACU,IAAI,CAACA,IACtB,CAAC,CAAC,CAAAoB,SAAA,CAAAzB,IAAA,iBAAAyB,SAAA,CAAA1B,IAAA,GAAA0B,SAAA,CAAAnB,EAAA,CAAAmB,SAAA,aAEFvC,QAAQ,CAAC,CACLiB,IAAI,CAAE,mBAAmB,CACzBC,OAAO,CAAEqB,SAAA,CAAAnB,EAAA,CAAIC,QAAQ,CAACF,IAAI,CAAC7B,KAC/B,CAAC,CAAC,0BAAAiD,SAAA,CAAAjB,IAAA,MAAAa,QAAA,gBAET,UAAAD,eAAA,CAAA/B,KAAA,MAAAC,SAAA,GAED,mBAAQjB,IAAA,CAACK,aAAa,CAACkD,QAAQ,EAACC,KAAK,CAAI,CACrCtD,YAAY,CAAEU,KAAK,CAACV,YAAY,CAChCC,KAAK,CAAES,KAAK,CAACT,KAAK,CAClBsD,OAAO,CAAE7C,KAAK,CAACR,OAAO,CACtBU,eAAe,CAAfA,eAAe,CACfsB,iBAAiB,CAAjBA,iBAAiB,CACjBS,cAAc,CAAdA,cACJ,CAAE,CAAArC,QAAA,CACGA,QAAQ,CACW,CAAC,CAC7B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}